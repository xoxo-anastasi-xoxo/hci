(this.webpackJsonphci=this.webpackJsonphci||[]).push([[0],{22:function(e,t,n){},34:function(e,t,n){e.exports=n(45)},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=n(7),l=(n(22),n(4)),u=n(10),s=function(){var e=Object(a.useState)(window.location.pathname),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useCallback)((function(e){c(e)}));return r.a.createElement("div",{className:"header",style:{color:"#757575",display:"flex"}},r.a.createElement(u.b,{to:"/hci",onClick:function(){return o("/hci")},className:"header__title",style:{color:"/hci"===n?"black":"#757575"}},"HCI"),r.a.createElement(u.b,{to:"/hci/train",onClick:function(){return o("/hci/train")},className:"header__menu-element",style:{color:"/hci/train"===n?"black":"#757575"}},"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430"),r.a.createElement(u.b,{to:"/hci/exp1",onClick:function(){return o("/hci/exp1")},className:"header__menu-element",style:{color:"/hci/exp1"===n?"black":"#757575"}},"\u042d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442 1"),r.a.createElement(u.b,{to:"/hci/exp2",onClick:function(){return o("/hci/exp2")},className:"header__menu-element",style:{color:"/hci/exp2"===n?"black":"#757575"}},"\u042d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442 2"))},m=(n(23),n(11)),p=n(26),b=n(27),h=n(31),f=n(28),d=n(33),k=Object(a.memo)((function(e){var t=e.letter,n=e.onKeyPress,c=e.isClickable,o=void 0===c||c,i=Object(a.useRef)(0),l=""===t?"keyboard-button hg-button hg-standardBtn hg-red hg-red2":"keyboard-button hg-button hg-standardBtn";return r.a.createElement("div",{className:l,onMouseEnter:function(){o||(i.current=setTimeout((function(){n(t)}),600))},onMouseLeave:function(){!o&&i&&i.current&&(clearTimeout(i.current),i.current=0)},onClick:function(){o&&n(t)}},6===t.length?"backspace":7===t.length?"":t)})),E=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={input:"",last:"",correctionsNumber:0,startTime:void 0,time:void 0,mistakes:[]},n.onChange=function(e,t,a){"{bksp}"===t&&n.state.mistakes.push({inputBefore:a,time:(Date.now()-(n.state.startTime||Date.now()))/1e3});var r={input:e,last:t,correctionsNumber:n.state.correctionsNumber+("{bksp}"===t?1:0),startTime:n.state.startTime||Date.now(),time:Date.now()-(n.state.startTime||Date.now()),mistakes:n.state.mistakes};n.props.inputRef.current=r,n.setState(r)},n.onKeyPress=function(e){""===e||"{bksp}"===e&&"{bksp}"===n.state.last||("{bksp}"!==e?"{space}"!==e?n.onChange(n.state.input+e,e):n.onChange(n.state.input+" ",e):n.onChange(n.state.input.slice(0,n.state.input.length-1),e,n.state.input))},n.onClear=function(){var e={input:"",last:"",correctionsNumber:0,startTime:void 0,time:void 0};n.setState(e),n.props.inputRef.current=e},n}return Object(d.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.clearRef.current=this.onClear}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{style:{margin:"40px auto"},value:this.state.input,placeholder:this.props.keyboardMode?"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043f\u043e \u0431\u0443\u043a\u0432\u0435":"\u0417\u0430\u0434\u0435\u0440\u0436\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440 \u043d\u0430 \u0431\u0443\u043a\u0432\u0435"}),r.a.createElement("div",{className:"simple-keyboard hg-theme-default hg-layout-default myTheme hg-layout-default"},this.props.withBackspace?["           {bksp}","\u0439 \u0446 \u0443 \u043a \u0435 \u043d \u0433 \u0448 \u0449 \u0437 \u0445 \u044a"," \u0444 \u044b \u0432 \u0430 \u043f \u0440 \u043e \u043b \u0434 \u0436 \u044d \u0451 ","  \u044f \u0447 \u0441 \u043c \u0438 \u0442 \u044c \u0431 \u044e  "," {space} "].map((function(t,n){return r.a.createElement("div",{className:"hg-row",key:n},t.split(" ").map((function(t,a){return r.a.createElement(k,{key:t+n+a,letter:t,onKeyPress:function(t){return e.onKeyPress(t)},isClickable:e.props.keyboardMode})})))})):["\u0439 \u0446 \u0443 \u043a \u0435 \u043d \u0433 \u0448 \u0449 \u0437 \u0445 \u044a"," \u0444 \u044b \u0432 \u0430 \u043f \u0440 \u043e \u043b \u0434 \u0436 \u044d \u0451 ","  \u044f \u0447 \u0441 \u043c \u0438 \u0442 \u044c \u0431 \u044e  "," {space} "].map((function(t,n){return r.a.createElement("div",{className:"hg-row",key:n},t.split(" ").map((function(t,a){return r.a.createElement(k,{key:t+n+a,letter:t,onKeyPress:function(t){return e.onKeyPress(t)},isClickable:e.props.keyboardMode})})))}))))}}]),t}(a.Component),v=n(29),g=n.n(v),y=function(e){var t=e.setKeyboardMode,n=Object(a.useState)(!1),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(a.useCallback)((function(){i(!o),t(!o)}));return r.a.createElement("div",{className:"trigger-container"},r.a.createElement(g.a,{onChange:u,checked:o,uncheckedIcon:!1,checkedIcon:!1,offColor:"#ffc107"}),r.a.createElement("div",{className:"trigger-hint"},o?"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u0442\u0430\u0447\u043f\u0430\u0434\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435. \u0414\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u0431\u0443\u043a\u0432\u044b \u043a\u043b\u0438\u043a\u043d\u0435\u0442\u0435 \u043d\u0430 \u043d\u0435\u0435!":"\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 leap motion. \u0414\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u0431\u0443\u043a\u0432\u044b \u0437\u0430\u0434\u0435\u0440\u0436\u0438\u0442\u0435 \u043d\u0430 \u043d\u0435\u0439 \u043a\u0443\u0440\u0441\u043e\u0440!"))},O=function(e){var t=e.onClick;return r.a.createElement("div",{className:"trigger-container"},r.a.createElement("div",{className:"done",onClick:t},"\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043e"))},C=function(e){var t=e.onClick;return r.a.createElement("div",{className:"trigger-container"},r.a.createElement("div",{className:"forget",onClick:t},"\u0417\u0430\u0431\u044b\u043b:("))},j=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useRef)({}),i=Object(a.useRef)((function(){}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{withBackspace:!0,keyboardMode:n,inputRef:o,clearRef:i}),r.a.createElement(O,{onClick:function(){i.current()}}),r.a.createElement(y,{setKeyboardMode:c}))},N=["red","#BFFF00","black","blue","green","grey","pink","yellow","white","#9966CC","orange","azure","violet","brown","blue","pink","black","yellow"],w=[500,600,700,800,900,1e3,1100,1200,1300,1400,1500,1600,1700,1800,1900,2e3],_=0;var x=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(N[_]),u=Object(l.a)(o,2),s=u[0],m=u[1],p=Object(a.useState)(!1),b=Object(l.a)(p,2),h=b[0],f=b[1],d=Object(i.b)(),k=Object(a.useRef)({}),v=Object(a.useRef)((function(){})),g=function(){var e=k.current,t=e.startTime,n=e.input,a=e.correctionsNumber,r=e.time,o=e.mistakes;d({type:"ADD_EXP1_INFO",payload:{startTime:t.toString(),input:n,correctionsNumber:a,time:r/1e3,currentGroup:h?"touch pad":"leap motion",mistakes:o}}),v.current(),c(0)},j=function(){v.current(),c(0)};return r.a.createElement(r.a.Fragment,null,function(){switch(n){case 0:return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"triangle",style:{backgroundColor:s}}),r.a.createElement("div",{className:"start-button",onClick:function(){m(N[_=(_+1)%N.length]);var e=void 0;!function t(){m(N[_=(_+1)%N.length]);var n=w[function(e,t){var n=e-.5+Math.random()*(t-e+1);return Math.round(n)}(0,w.length-1)];e=setTimeout(t,n)}(),setTimeout((function(){clearInterval(e),c(1)}),8e3)}},"\u041d\u0430\u0447\u0430\u0442\u044c!"));case 1:return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{keyboardMode:h,inputRef:k,clearRef:v}),r.a.createElement(O,{onClick:g}),r.a.createElement(C,{onClick:j}))}}(),r.a.createElement(y,{setKeyboardMode:f}))},R=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(i.b)(),u=Object(a.useRef)({}),s=Object(a.useRef)((function(){}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{withBackspace:!0,keyboardMode:n,inputRef:u,clearRef:s}),r.a.createElement(O,{onClick:function(){var e=u.current,t=e.startTime,a=e.input,r=e.correctionsNumber,c=e.time,i=e.mistakes;o({type:"ADD_EXP2_INFO",payload:{startTime:new Date(t).toLocaleString(),input:a,correctionsNumber:r,time:c/1e3,currentGroup:n?"touch pad":"leap motion",mistakes:i}}),s.current()}}),r.a.createElement(C,{onClick:function(){s.current()}}),r.a.createElement(y,{setKeyboardMode:c}))},D=n(32),M=n(30),T=n.n(M),F=function(){var e=Object(a.useRef)(),t=Object(i.c)((function(e){return e})),n=Object(i.b)(),c=Object(a.useCallback)((function(){var n=e.current&&e.current.value,a=new File([JSON.stringify(Object(D.a)({userName:n},t),null,"\t")],"hci_exp_with_".concat(n.toLowerCase().replace(/ /g,"_"),".txt"),{type:"text/plain;charset=utf-8"});T.a.saveAs(a)}),[e,t]);return r.a.createElement("div",{className:"auth"},r.a.createElement("label",null,"\u0418\u043c\u044f \u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0442\u0430"),r.a.createElement("input",{ref:e}),r.a.createElement("button",{onClick:c},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430"),r.a.createElement("button",{onClick:function(){n({type:"CLEAR_ALL"})}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430"))},A=n(12),L=Object(A.b)({exp1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"ADD_EXP1_INFO":return e.push(t.payload),e;case"CLEAR_ALL":return[];default:return e}},exp2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXP2_INFO":return e.push(t.payload),e;case"CLEAR_ALL":return[];default:return e}}}),S=Object(A.c)(L);o.a.render(r.a.createElement(i.a,{store:S},r.a.createElement(u.a,null,r.a.createElement((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/hci",component:F}),r.a.createElement(m.a,{exact:!0,path:"/hci/exp1",component:x}),r.a.createElement(m.a,{exact:!0,path:"/hci/exp2",component:R}),r.a.createElement(m.a,{exact:!0,path:"/hci/train",component:j})))}),null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.80459cc7.chunk.js.map